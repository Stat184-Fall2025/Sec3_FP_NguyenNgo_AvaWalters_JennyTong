---
title: "World Happiness Index: Exploring Key Determinants of National Happiness"
author: "Nguyen Ngo, Jenny Tong, Ava Walters"
date: "12/02/2025"
format: 
  pdf:
    documentclass: article
    geometry:
      - margin=1in
    toc: false
    fig-pos: "H"
    tbl-cap-location: top
    fig-cap-location: top
execute:
  echo: false
  warning: false
  message: false
  error: false
---

# Introduction

The World Happiness Report is an annual publication that ranks countries based on their citizens' self-reported happiness and life satisfaction. This analysis examines the 2024 World Happiness Report data to understand how key factors—life evaluation, economic prosperity (GDP), and governance (corruption perception)—influence a country's happiness ranking. Our research questions are:

1.  **Life Evaluation vs Rank**: How does citizens' overall life satisfaction correlate with their country's happiness ranking?

2.  **Economic Influence**: What is the relationship between GDP per capita and national happiness?

3.  **Governance Impact**: How does corruption perception affect happiness rankings?

4.  **Rank Sensitivity**: How sensitive are rankings to changes in these key factors?

This analysis employs exploratory data analysis techniques to uncover patterns and relationships in the data, providing insights into what contributes to national happiness.

# Data Provenance and Ethical Considerations

## Data Source

The data for this analysis comes from the **World Happiness Report 2024**, published by the Sustainable Development Solutions Network in partnership with the Gallup World Poll. The dataset includes annual surveys from 2011-2024, with the 2024 report covering 145 countries.

## FAIR Principles Assessment

-   **Findable**: The data is publicly available through the World Happiness Report website with persistent identifiers.

-   **Accessible**: Data is available in standardized formats (Excel, CSV) with clear documentation.

-   **Interoperable**: Uses standard variables and scales compatible with social science research.

-   **Reusable**: Comes with detailed methodology reports and citation requirements.

## CARE Principles Assessment

-   **Collective Benefit**: The data supports global understanding of well-being for policy development.

-   **Authority to Control**: Original data collected by Gallup with participant consent.

-   **Responsibility**: Published with transparency about methodology and limitations.

-   **Ethics**: Collected following ethical research standards with privacy protections.

## Data Preparation

\vspace{4mm}

```{r world-happiness-index-wrangling, include=FALSE}
  # Wrangling Code that will not be shown when rendered

# STEP 1: Load required pacakges
library(tidyverse)
library(readxl) # read excel file
library(janitor)

# STEP 2: Load and clean the Excel dataset
happiness_raw <- read_excel(
  "/Applications/PSU/FALL 2025/STAT 184/week 12/nguyen_repo_practice/Sec-3_FP_NguyenNgo_AvaWalters_JennyTong/World Happiness Report Data Figure 2.1.xlsx",
sheet = "Data for Figure 2.1 (2011–2024)"
) %>%
  # standardize column names
  clean_names()

# STEP 3: Filter for 2024 data
# select important columns
happiness_2024 <-  happiness_raw %>% 
  filter (year == 2024) %>% 
  # rename columns
  select(
    country = country_name,
    rank,
    life_evaluation = life_evaluation_3_year_average,
    gdp = explained_by_log_gdp_per_capita,
    social_support = explained_by_social_support,
    health_life_expectancy = explained_by_healthy_life_expectancy,
    freedom = explained_by_freedom_to_make_life_choices,
    generosity = explained_by_generosity,
    corruption = explained_by_perceptions_of_corruption,
    dystopia_residual
  ) %>% 
  # fix incomplete rows and convert ranks to integers
  mutate(
    rank = as.integer(rank),
    across(c(life_evaluation:corruption), as.numeric)  
  ) %>% 
  filter(!is.na(rank), !is.na(life_evaluation))

# STEP 4: Calculate the Sensitivity Metrics
happiness_sensitivity <- happiness_2024 %>% 
  # order by descending life evaluation
  arrange(desc(life_evaluation)) %>% 
  mutate(
    life_eval_diff = life_evaluation - lead(life_evaluation), 
    rank_diff = rank - lead(rank),
    sensitivity = abs(rank_diff / life_eval_diff), # measures sensitivity
    sensitivity_group = cut(sensitivity,
                            breaks = c(0, 5, 10, 20, Inf),
                            Labels = c("Low", "Medium", "High", "Very High")
                            )
  ) %>% 
  filter(!is.na(sensitivity))

# STEP 5: Compute Correlation of Factors w/ Rank
factor_correlations <- happiness_2024 %>%
select(rank, life_evaluation, gdp, corruption, social_support,
health_life_expectancy, freedom, generosity) %>% 
cor(use = "complete.obs") %>% # compute correlation matrix
as.data.frame() %>%
rownames_to_column("factor") %>% # convert rownames to a column
select(factor, correlation_with_rank = rank)

# STEP 6: Top 10 Happiest Countries Table
top_10 <- happiness_2024 %>% 
  # select 10 smallest ranks
  slice_min(rank, n = 10) %>% 
  select(country, rank, life_evaluation, gdp, corruption)

# STEP 7: Create Bottom 10 Least Happiest Countries Table
bottom_10 <- happiness_2024 %>% 
  # select 10 largest ranks
  slice_max(rank, n = 10) %>% 
  select(country, rank, life_evaluation, gdp, corruption)

# STEP 8: A Summary Statistics Table, if needed
summary_stats <- happiness_2024 %>% 
  summarize(
    # count countries
    n_countries = n(),
    avg_life_eval = mean(life_evaluation, na.rm = TRUE),
    avg_gdp = mean(gdp, na.rm = TRUE),
    avg_corruption = mean(corruption, na.rm = TRUE),
    life_eval_range = max(life_evaluation) - min(life_evaluation),
    rank_range = max(rank) - min(rank)
  )

# STEP 9: Create descriptive rank group labels
happiness_2024 <- happiness_2024 %>% 
  mutate(rank_group = ntile(rank, 5),
         rank_group_label = case_when(
           rank_group == 1 ~ "Top 20%",
           rank_group == 2 ~ "Second 20%",
           rank_group == 3 ~ "Middle 20%",
           rank_group == 4 ~ "Fourth 20%",
           rank_group == 5 ~ "Bottom 20%"
         ))
```

## Summary Statistics

```{r}
#| tbl-cap: "Table 1: Summary Statistics of World Happiness Data (2024)"

summary_stats_formatted <- tibble::tribble(
  ~Statistic, ~Value,
  "Number of Countries", summary_stats$n_countries,
  "Average Life Evaluation", round(summary_stats$avg_life_eval, 2),
  "Average GDP Contribution", round(summary_stats$avg_gdp, 2),
  "Average Corruption Perception", round(summary_stats$avg_corruption, 2),
  "Life Evaluation Range", round(summary_stats$life_eval_range, 2),
  "Rank Range", summary_stats$rank_range
)

knitr::kable(summary_stats_formatted)
```

The dataset includes 145 countries with life evaluation scores ranging from 1.36 to 7.74 (on a 0-10 scale). The average life evaluation score is 5.48, indicating moderate life satisfaction globally.

## Visualizations

## 1. Life Evaluation vs Country Rank

\vspace{4mm}

```{r}

```

**Interpretation**: There is a strong negative correlation between life evaluation and rank. Countries in the top 20% have average life evaluation scores of 6.73, while those in the bottom 20% average only 3.17. The linear trend indicates that each 1-point increase in life evaluation corresponds to approximately 25 rank positions improvement.

## 2. GDP Contribution vs Country Rank

\vspace{4mm}

```{r}

```

```{r}

```

**Interpretation**: Economic prosperity shows a strong relationship with happiness rankings. Top-ranked countries have GDP contributions averaging 1.67, while bottom-ranked countries average only 0.69. However, there is considerable variation within groups, suggesting GDP is not the sole determinant of happiness.

\vspace{8mm}

## 3. Corruption Perception vs Country Rank

```{r}
#| tbl-cap: "Table 4: Corruption Perception Statistics by Rank Group"

corruption_summary <- happiness_2024 %>%  
  group_by(`Rank Group` = rank_group) %>% 
  summarize(
    `Number of Countries` = n(),
    `Average Corruption Perception` = round(mean(corruption, na.rm = TRUE), 2),
    `Minimum` = round(min(corruption, na.rm = TRUE), 2),
    `Maximum` = round(max(corruption, na.rm = TRUE), 2),
    `Standard Deviation` = round(sd(corruption, na.rm = TRUE), 2)
  ) %>% 
  arrange(`Rank Group`)

knitr::kable(corruption_summary)
```

```{r}

```

**Interpretation**: Lower corruption perception (higher scores) strongly correlates with better happiness rankings. Top-ranked countries average 0.37 on corruption perception, while bottom-ranked countries average only 0.09, indicating that governance quality is closely tied to citizen happiness.

## 4. Factor Correlation Comparison

```{r}

```

## 5. Top and Bottom Performers

```{r}
#| tbl-cap: "Comparison of Top 10 and Bottom 10 Countries"
# Author: Jenny Tong
# Reviewer: Nguyen Ngo

top_10 <- happiness_2024 %>% 
  slice_min(rank, n = 10) %>% 
  select(Country = country, Rank = rank, 
         `Life Evaluation` = life_evaluation, 
         GDP = gdp, Corruption = corruption) %>% 
  mutate(Group = "Top 10")

bottom_10 <- happiness_2024 %>% 
  slice_max(rank, n = 10) %>% 
  select(Country = country, Rank = rank, 
         `Life Evaluation` = life_evaluation, 
         GDP = gdp, Corruption = corruption) %>% 
  mutate(Group = "Bottom 10")

combined_table <- bind_rows(top_10, bottom_10) %>% 
  mutate(
    `Life Evaluation` = round(`Life Evaluation`, 2),
    GDP = round(GDP, 2),
    Corruption = round(Corruption, 2)
  ) %>% 
  select(Group, everything())

knitr::kable(combined_table)
```

**Interpretation**: The top 10 happiest countries (led by Finland, Denmark, and Iceland) show consistently high scores across all factors. In contrast, the bottom 10 countries (including Afghanistan, Lesotho, and Lebanon) demonstrate extremely low scores, particularly in life evaluation and corruption perception.

# Discussion and Conclusions

## Key Findings

1.  **Life Evaluation Dominance**: Life evaluation shows the strongest relationship with happiness rankings, explaining most of the variance between countries.

2.  **Economic Foundation**: GDP serves as a foundational factor—countries with higher economic prosperity tend to rank higher, but within similar economic tiers, other factors differentiate happiness levels.

3.  **Governance Matters**: Corruption perception strongly influences rankings, indicating that trust in institutions is crucial for citizen happiness.

4.  **Sensitivity Analysis**: Rankings are most sensitive to changes in life evaluation scores in the middle of the distribution (ranks 40-100), where small improvements can lead to significant rank changes.

## Limitations and Future Research

-   **Cross-sectional Data**: This analysis uses only 2024 data; longitudinal analysis could reveal trends over time.

-   **Cultural Factors**: The analysis doesn't account for cultural differences in how happiness is perceived and reported.

-   **Missing Variables**: Additional factors like income inequality, environmental quality, and political freedom could provide further insights.

## Recommendations

1.  **Policy Implications**: Governments should focus on improving life evaluation through social support systems and healthcare.

2.  **Economic Development**: While important, economic growth should be balanced with governance improvements.

3.  **Transparency**: Reducing corruption can significantly improve national happiness rankings.

# Author Contributions

-   **Nguyen Ngo**: Project coordination, data wrangling, life evaluation analysis, overall report structure

-   **Jenny Tong**: GDP analysis, summary statistics, visualization design, table creation

-   **Ava Walters**: Corruption analysis, correlation analysis, sensitivity metrics, quality control

# References
